/**
 * jQuery.navigate v 0.8 - 14th May 2011
 * navigate.apio.ca
 * 
 * Copyright (c) 2010 Stuart Basden
 * Released under MIT license
 * https://github.com/jquery/jquery/blob/master/MIT-LICENSE.txt
**/
(function(c){c.fn.navigate=function(j){var d={mainCycle:{fx:"blindX",timeout:0},subCycle:{fx:"blindY",timeout:0},subpageContainer:".subpages",instantLoad:0};return this.each(function(){function g(){b={oldPage:"",newPage:window.location.hash.toLowerCase(),oldSubPage:"",newSubPage:""};if(b.newPage.indexOf("/")!=-1){var a=b.newPage.split("/");b.newPage=a[0];b.newSubPage=a[1]}}function h(a,e){if(e.oldPage!=e.newPage){var b=a.pageSlideNos[e.newPage.replace("#","")];a.selector.cycle(b);if(c(e.newPage).children(a.subpageContainer).length!= 0){c(e.newPage).children(a.subpageContainer).cycle(a.subCycle).addClass("cycling");var d=0;c(e.newPage).children(a.subpageContainer).children().each(function(){var b=c(this).attr("id");a.subpageSlideNos[b]=d;d++;c(this).addClass("subpage")})}e.newSubPage!=""&&k(a,e);c(e.oldPage).children(a.subpageContainer).length!=0&&c(e.oldPage+" "+a.subpageContainer).cycle("destroy")}else e.newSubPage==""?c(e.newPage).children(a.subpageContainer).cycle(0):k(a,e)}function k(a,b){var d=a.subpageSlideNos[b.newSubPage]; c(b.newPage).children(a.subpageContainer).cycle(d)}j&&c.extend(d,j);d.selector=c(this);d.pageSlideNos={};d.subpageSlideNos={};var f="",i=0,b={};c(this).children().each(function(){var a=c(this).attr("id");d.pageSlideNos[a]=i;i==0&&(f=a);i++;c(this).addClass("page")});c(this).cycle(d.mainCycle);if(window.location.hash=="")window.location.hash="#"+f.charAt(0).toUpperCase()+f.slice(1);g();if(c(d.selector).children(b.newPage).length!=1)window.location.hash="#"+f.charAt(0).toUpperCase()+f.slice(1),g(); if(b.newSubPage&&c(b.newPage).children("#"+b.newSubPage).length!=1)window.location.hash="#"+b.newPage.charAt(1).toUpperCase()+b.newPage.slice(2),g();h(d,b);d.instantLoad&&h(d,b);c(window).hashchange(function(){var a=window.location.hash.toLowerCase(),e=[a];a.indexOf("/")!=-1&&(e=a.split("/"));if(c(d.selector).children(e[0]).length!=1)return!1;if(e[1]&&c(e[0]).children(d.subpageContainer).children("#"+e[1]).length!=1)return!1;b={oldPage:b.newPage,newPage:window.location.hash.toLowerCase(),oldSubPage:b.newSubPage, newSubPage:""};if(b.newPage.indexOf("/")!=-1)a=b.newPage.split("/"),b.newPage=a[0],b.newSubPage=a[1];h(d,b)});c("a").click(d,function(){if(c(this).attr("href").charAt(0)=="#"){var a=c(this).attr("href"),a="#"+a.charAt(1).toUpperCase()+a.slice(2);window.location.hash=a;return!1}else return!0})})}})(jQuery);

/*
 * jQuery hashchange event - v1.3 - 7/21/2010
 * http://benalman.com/projects/jquery-hashchange-plugin/
 * 
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
(function($,e,b){var c="hashchange",h=document,f,g=$.event.special,i=h.documentMode,d="on"+c in e&&(i===b||i>7);function a(j){j=j||location.href;return"#"+j.replace(/^[^#]*#?(.*)$/,"$1")}$.fn[c]=function(j){return j?this.bind(c,j):this.trigger(c)};$.fn[c].delay=50;g[c]=$.extend(g[c],{setup:function(){if(d){return false}$(f.start)},teardown:function(){if(d){return false}$(f.stop)}});f=(function(){var j={},p,m=a(),k=function(q){return q},l=k,o=k;j.start=function(){p||n()};j.stop=function(){p&&clearTimeout(p);p=b};function n(){var r=a(),q=o(m);if(r!==m){l(m=r,q);$(e).trigger(c)}else{if(q!==m){location.href=location.href.replace(/#.*/,"")+q}}p=setTimeout(n,$.fn[c].delay)}$.browser.msie&&!d&&(function(){var q,r;j.start=function(){if(!q){r=$.fn[c].src;r=r&&r+a();q=$('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){r||l(a());n()}).attr("src",r||"javascript:0").insertAfter("body")[0].contentWindow;h.onpropertychange=function(){try{if(event.propertyName==="title"){q.document.title=h.title}}catch(s){}}}};j.stop=k;o=function(){return a(q.location.href)};l=function(v,s){var u=q.document,t=$.fn[c].domain;if(v!==s){u.title=h.title;u.open();t&&u.write('<script>document.domain="'+t+'"<\/script>');u.close();q.location.hash=v}}})();return j})()})(jQuery,this);
